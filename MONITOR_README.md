# GitHub Actions è‡ªåŠ¨ç›‘æµ‹å’Œä¿®å¤ç³»ç»Ÿ

## ğŸ“– è¯´æ˜

è¿™ä¸ªç³»ç»Ÿä¼šè‡ªåŠ¨ç›‘æµ‹ä½ çš„ GitHub Actions å·¥ä½œæµ,å½“æ„å»ºå¤±è´¥æ—¶ä¼šè‡ªåŠ¨è¯†åˆ«å¸¸è§é”™è¯¯å¹¶å°è¯•ä¿®å¤ã€‚

## âœ¨ åŠŸèƒ½

1. **è‡ªåŠ¨ç›‘æµ‹**: æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡å·¥ä½œæµçŠ¶æ€
2. **é”™è¯¯è¯†åˆ«**: è‡ªåŠ¨è¯†åˆ«ä»¥ä¸‹å¸¸è§é”™è¯¯:
   - PackageList ç±»æœªæ‰¾åˆ°
   - Gradle DSL libs å¼•ç”¨é”™è¯¯
   - React Native æ¨¡å—æœªæ‰¾åˆ°
   - BuildConfig æœªæ‰¾åˆ°
3. **è‡ªåŠ¨ä¿®å¤**: é’ˆå¯¹è¯†åˆ«çš„é”™è¯¯è‡ªåŠ¨ä¿®å¤é…ç½®æ–‡ä»¶
4. **è‡ªåŠ¨æäº¤**: ä¿®å¤åè‡ªåŠ¨æäº¤å¹¶æ¨é€åˆ° GitHub
5. **æ—¥å¿—è®°å½•**: æ‰€æœ‰æ“ä½œéƒ½ä¼šè®°å½•åˆ° `monitor.log`

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å‰å°è¿è¡Œ(æµ‹è¯•ç”¨)
```bash
cd /Users/myc/CodeBuddy/20260209133746/BillTrackerApp
./monitor_and_fix.sh
```

### 2. åå°è¿è¡Œ(ç”Ÿäº§ç”¨)
```bash
cd /Users/myc/CodeBuddy/20260209133746/BillTrackerApp
nohup ./monitor_and_fix.sh > monitor.out 2>&1 &
```

### 3. åœæ­¢åå°è¿è¡Œ
```bash
ps aux | grep monitor_and_fix.sh
kill <è¿›ç¨‹ID>
```

## ğŸ“‹ å½“å‰æ”¯æŒçš„è‡ªåŠ¨ä¿®å¤

| é”™è¯¯ç±»å‹ | é”™è¯¯ä¿¡æ¯ | ä¿®å¤æ–¹æ³• |
|---------|---------|---------|
| PackageList æœªæ‰¾åˆ° | `cannot find symbol.*PackageList` | æ·»åŠ  `react-native` ä¾èµ– |
| libs å¼•ç”¨é”™è¯¯ | `Unresolved reference: libs` | ç§»é™¤ä¸å¿…è¦çš„ react-native æ¨¡å— |
| BuildConfig æœªæ‰¾åˆ° | `cannot find symbol.*BuildConfig` | æ·»åŠ  NDK é…ç½® |

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®:

```bash
export GITHUB_TOKEN="ä½ çš„GitHub Token"
export REPO_OWNER="gessdon"  # å¯é€‰,é»˜è®¤å€¼
export REPO_NAME="BillTrackerApp"  # å¯é€‰,é»˜è®¤å€¼
export CHECK_INTERVAL=300  # å¯é€‰,é»˜è®¤5åˆ†é’Ÿ
export PROJECT_DIR="/path/to/project"  # å¯é€‰,é»˜è®¤å½“å‰ç›®å½•
```

æˆ–ç›´æ¥è¿è¡Œ:
```bash
GITHUB_TOKEN="ä½ çš„Token" ./monitor_and_fix.sh
```

## ğŸ“Š æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f monitor.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep ERROR monitor.log

# æŸ¥çœ‹æˆåŠŸæ—¥å¿—
grep SUCCESS monitor.log
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **éœ€è¦ç®¡ç†å‘˜æƒé™**: è·å–è¯¦ç»†å·¥ä½œæµæ—¥å¿—éœ€è¦ä»“åº“ç®¡ç†å‘˜æƒé™
2. **ä¸ä¼šæ— é™æäº¤**: è„šæœ¬ä¼šè®°ä½ä¸Šæ¬¡å¤„ç†çš„ run_id,é¿å…é‡å¤å¤„ç†
3. **æ‰‹åŠ¨æ£€æŸ¥**: å¯¹äºæ— æ³•è‡ªåŠ¨è¯†åˆ«çš„é”™è¯¯,è„šæœ¬ä¼šæç¤ºä½ æ‰‹åŠ¨æ£€æŸ¥
4. **æµ‹è¯• Token**: ç¡®ä¿ GitHub Token æœ‰è¶³å¤Ÿçš„æƒé™(repo, actions, workflows)

## ğŸ› ï¸ æ·»åŠ æ–°çš„é”™è¯¯è¯†åˆ«

åœ¨ `analyze_error()` å‡½æ•°ä¸­æ·»åŠ æ–°çš„é”™è¯¯æ¨¡å¼:

```bash
if grep -q "ä½ çš„é”™è¯¯æ¨¡å¼" "$log_file" 2>/dev/null; then
    echo "YOUR_ERROR_TYPE"
fi
```

ç„¶ååœ¨ä¸»å‡½æ•°çš„ `case` è¯­å¥ä¸­æ·»åŠ å¯¹åº”çš„ä¿®å¤é€»è¾‘:

```bash
"YOUR_ERROR_TYPE")
    if fix_your_error; then
        commit_fix "ä¿®å¤: ä½ çš„ä¿®å¤æè¿°"
    fi
    ;;
```

## ğŸ“ˆ æ€§èƒ½

- å†…å­˜å ç”¨: < 10MB
- CPU å ç”¨: å‡ ä¹ä¸ºç©º(åªåœ¨æ£€æŸ¥æ—¶çŸ­æš‚å ç”¨)
- ç½‘ç»œè¯·æ±‚: æ¯5åˆ†é’Ÿ1æ¬¡ API è¯·æ±‚

## ğŸ¤ è´¡çŒ®

å¦‚æœå‘ç°æ–°çš„é”™è¯¯æ¨¡å¼æˆ–ä¿®å¤æ–¹æ³•,æ¬¢è¿æäº¤ PR!

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜,è¯·æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æˆ–æ‰‹åŠ¨è®¿é—® GitHub Actions é¡µé¢ã€‚
